(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function y(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(o){if(o.ep)return;o.ep=!0;const r=y(o);fetch(o.href,r)}})();console.log(typeof PluginMessageHandler<"u"?"Running as R1 Creation":"Running in browser mode");let i={isPlaying:!1,score:0,highestY:0,screenScrollY:0,platformSpeed:1,gameStarted:!1},e={x:120,y:200,radius:8,velocityX:0,velocityY:0,onGround:!0,color:"#FE5F00"},l=[],a,n;const w=.5,p=.8,c=3,v=60,S=8,f=260,d=240,u=282;function E(t){return{x:Math.random()*(d-v),y:t,width:v,height:S,color:"#fff"}}function x(){l=[],l.push({x:0,y:f,width:d,height:S,color:"#fff",isGround:!0});for(let t=1;t<=20;t++)l.push(E(f-t*80))}function Y(){if(!i.isPlaying)return;e.velocityY+=w,e.x+=e.velocityX,e.y+=e.velocityY,e.x-e.radius<0?(e.x=e.radius,e.velocityX=0):e.x+e.radius>d&&(e.x=d-e.radius,e.velocityX=0),e.velocityX*=.98,e.y<f-50&&!i.gameStarted&&(i.gameStarted=!0),i.gameStarted&&e.y<i.screenScrollY+100&&(i.screenScrollY=e.y-100);const t=Math.max(0,f-e.y);for(t>i.highestY&&(i.highestY=t,i.score=Math.floor(i.highestY/10)),i.platformSpeed=1+i.score*.01,l.forEach(s=>{s.y+=i.platformSpeed}),l=l.filter(s=>s.y<i.screenScrollY+u+100);l.length<25;){const s=Math.min(...l.map(y=>y.y));l.push(E(s-80))}e.y>i.screenScrollY+u+50&&O()}function L(){e.onGround=!1,l.forEach(t=>{e.x+e.radius>t.x&&e.x-e.radius<t.x+t.width&&e.y+e.radius>t.y&&e.y-e.radius<t.y+t.height&&e.velocityY>0&&e.y<t.y&&(e.y=t.y-e.radius,e.velocityY=-e.velocityY*p,e.onGround=!0,t.color="#FE5F00",setTimeout(()=>{t.color="#fff"},100))})}function M(){n.fillStyle="#000",n.fillRect(0,0,d,u),n.save(),n.translate(0,-i.screenScrollY),l.forEach(t=>{n.fillStyle=t.color,n.fillRect(t.x,t.y,t.width,t.height)}),n.fillStyle=e.color,n.beginPath(),n.arc(e.x,e.y,e.radius,0,Math.PI*2),n.fill(),n.restore(),document.getElementById("score").textContent=`Score: ${i.score}`}function P(){Y(),L(),M(),i.isPlaying&&requestAnimationFrame(P)}function h(){i.isPlaying=!0,i.score=0,i.highestY=0,i.screenScrollY=0,i.platformSpeed=1,i.gameStarted=!1,e.x=120,e.y=200,e.velocityX=0,e.velocityY=0,e.onGround=!0,x(),document.getElementById("gameOver").classList.add("hidden"),P()}function O(){i.isPlaying=!1,document.getElementById("finalScore").textContent=i.score,document.getElementById("gameOver").classList.remove("hidden"),a.style.filter="brightness(1.5)",setTimeout(()=>{a.style.filter="brightness(1)"},200)}window.addEventListener("scrollUp",()=>{i.isPlaying&&(e.velocityX=Math.max(e.velocityX-c,-c*2))});window.addEventListener("scrollDown",()=>{i.isPlaying&&(e.velocityX=Math.min(e.velocityX+c,c*2))});window.addEventListener("sideClick",()=>{i.isPlaying||h()});document.addEventListener("keydown",t=>{if(typeof PluginMessageHandler>"u")switch(t.key){case" ":t.preventDefault(),i.isPlaying||h();break;case"ArrowLeft":i.isPlaying&&(e.velocityX=Math.max(e.velocityX-c,-c*2));break;case"ArrowRight":i.isPlaying&&(e.velocityX=Math.min(e.velocityX+c,c*2));break}});document.addEventListener("DOMContentLoaded",()=>{console.log("Bouncing Ball Game initialized!"),a=document.getElementById("gameCanvas"),n=a.getContext("2d"),a.width=d,a.height=u,typeof PluginMessageHandler>"u"&&window.addEventListener("keydown",t=>{t.code==="Space"&&(t.preventDefault(),window.dispatchEvent(new CustomEvent("sideClick")))}),h()});console.log("Bouncing Ball Game Ready!");console.log("Controls:");console.log("- Scroll wheel: Move ball left/right");console.log("- Side button: Restart game");
