(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))E(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&E(m)}).observe(document,{childList:!0,subtree:!0});function u(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function E(n){if(n.ep)return;n.ep=!0;const s=u(n);fetch(n.href,s)}})();console.log(typeof PluginMessageHandler<"u"?"Running as R1 Creation":"Running in browser mode");let t={isPlaying:!1,score:0,highestY:0,screenScrollY:0,platformSpeed:1,gameStarted:!1},e={x:120,y:200,radius:8,velocityX:0,velocityY:0,onGround:!0,color:"#FE5F00"},l=[],d,r,f=null;const L=.1,c=3,y=60,v=8,g=260,a=240,h=254,P=100,x=-.2;function w(i){return{x:Math.random()*(a-y),y:i,width:y,height:v,color:"#fff"}}function Y(){l=[],l.push({x:0,y:g,width:a,height:v,color:"#fff",isGround:!0});const i=g-60;f={x:Math.floor((a-y)/2),y:i,width:y,height:v,color:"#fff",isStart:!0},l.push(f);for(let o=1;o<=20;o++)l.push(w(i-o*80))}function M(){if(!t.isPlaying)return;if(e.velocityY+=L,e.x+=e.velocityX,e.y+=e.velocityY,e.x-e.radius<0?(e.x=e.radius,e.velocityX=0):e.x+e.radius>a&&(e.x=a-e.radius,e.velocityX=0),e.velocityX*=.98,e.y<g-50&&!t.gameStarted&&(t.gameStarted=!0),t.gameStarted){const o=e.y-t.screenScrollY;if(o<P){const u=P-o;t.screenScrollY+=u*x}}const i=Math.max(0,g-e.y);for(i>t.highestY&&(t.highestY=i,t.score=Math.floor(t.highestY/10)),t.platformSpeed=.2+t.score*.01,l.forEach(o=>{o.y+=t.platformSpeed}),l=l.filter(o=>o.y<t.screenScrollY+h+100);l.length<25;){const o=Math.min(...l.map(u=>u.y));l.push(w(o-80))}e.y>t.screenScrollY+h+50&&C()}function R(){e.onGround=!1,l.forEach(i=>{e.x+e.radius>i.x&&e.x-e.radius<i.x+i.width&&e.y+e.radius>i.y&&e.y-e.radius<i.y+i.height&&e.velocityY>0&&e.y<i.y&&(e.y=i.y-e.radius,e.velocityY=-6.5,e.onGround=!0,i.color="#FE5F00",setTimeout(()=>{i.color="#fff"},100))})}function O(){r.fillStyle="#000",r.fillRect(0,0,a,h),r.save(),r.translate(0,-t.screenScrollY),l.forEach(i=>{r.fillStyle=i.color,r.fillRect(i.x,i.y,i.width,i.height)}),r.fillStyle=e.color,r.beginPath(),r.arc(e.x,e.y,e.radius,0,Math.PI*2),r.fill(),r.restore(),document.getElementById("score").textContent=`Score: ${t.score}`}function p(){M(),R(),O(),t.isPlaying&&requestAnimationFrame(p)}function S(){t.isPlaying=!0,t.score=0,t.highestY=0,t.screenScrollY=0,t.platformSpeed=1,t.gameStarted=!1,Y(),e.velocityX=0,e.velocityY=0,e.onGround=!0,f?(e.x=f.x+f.width/2,e.y=f.y-e.radius):(e.x=120,e.y=200),document.getElementById("gameOver").classList.add("hidden"),p()}function C(){t.isPlaying=!1,document.getElementById("finalScore").textContent=t.score,document.getElementById("gameOver").classList.remove("hidden"),d.style.filter="brightness(1.5)",setTimeout(()=>{d.style.filter="brightness(1)"},200)}window.addEventListener("scrollUp",()=>{t.isPlaying&&(e.velocityX=Math.max(e.velocityX-c,-c*2))});window.addEventListener("scrollDown",()=>{t.isPlaying&&(e.velocityX=Math.min(e.velocityX+c,c*2))});window.addEventListener("sideClick",()=>{t.isPlaying||S()});document.addEventListener("keydown",i=>{if(typeof PluginMessageHandler>"u")switch(i.key){case" ":i.preventDefault(),t.isPlaying||S();break;case"ArrowLeft":t.isPlaying&&(e.velocityX=Math.max(e.velocityX-c,-c*2));break;case"ArrowRight":t.isPlaying&&(e.velocityX=Math.min(e.velocityX+c,c*2));break}});document.addEventListener("DOMContentLoaded",()=>{console.log("Bouncing Ball Game initialized!"),d=document.getElementById("gameCanvas"),r=d.getContext("2d"),d.width=a,d.height=h,typeof PluginMessageHandler>"u"&&window.addEventListener("keydown",i=>{i.code==="Space"&&(i.preventDefault(),window.dispatchEvent(new CustomEvent("sideClick")))}),S()});console.log("Bouncing Ball Game Ready!");console.log("Controls:");console.log("- Scroll wheel: Move ball left/right");console.log("- Side button: Restart game");
