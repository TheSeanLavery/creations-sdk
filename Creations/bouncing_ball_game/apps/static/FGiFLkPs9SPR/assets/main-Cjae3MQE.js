(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))P(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&P(v)}).observe(document,{childList:!0,subtree:!0});function f(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function P(n){if(n.ep)return;n.ep=!0;const l=f(n);fetch(n.href,l)}})();console.log(typeof PluginMessageHandler<"u"?"Running as R1 Creation":"Running in browser mode");let t={isPlaying:!1,score:0,highestY:0,screenScrollY:0,platformSpeed:1,gameStarted:!1},e={x:120,y:200,radius:8,velocityX:0,velocityY:0,onGround:!0,color:"#FE5F00"},s=[],a,r,d=null;const x=.1,u=.8,y=6,R=.85,O=.98,g=60,S=8,h=260,c=240,m=254,w=100,Y=-.1;function L(i){return{x:Math.random()*(c-g),y:i,width:g,height:S,color:"#fff"}}function M(){s=[],s.push({x:0,y:h,width:c,height:S,color:"#fff",isGround:!0});const i=h-60;d={x:Math.floor((c-g)/2),y:i,width:g,height:S,color:"#fff",isStart:!0},s.push(d);for(let o=1;o<=20;o++)s.push(L(i-o*80))}function I(){if(!t.isPlaying)return;if(e.velocityY+=x,e.x+=e.velocityX,e.y+=e.velocityY,e.x-e.radius<0?(e.x=e.radius,e.velocityX=0):e.x+e.radius>c&&(e.x=c-e.radius,e.velocityX=0),e.velocityX*=e.onGround?R:O,Math.abs(e.velocityX)<.01&&(e.velocityX=0),e.y<h-50&&!t.gameStarted&&(t.gameStarted=!0),t.gameStarted){const o=e.y-t.screenScrollY;if(o<w){const f=w-o;t.screenScrollY+=f*Y}}const i=Math.max(0,h-e.y);for(i>t.highestY&&(t.highestY=i,t.score=Math.floor(t.highestY/10)),t.platformSpeed=.2+t.score*.01,s.forEach(o=>{o.y+=t.platformSpeed}),s=s.filter(o=>o.y<t.screenScrollY+m+100);s.length<25;){const o=Math.min(...s.map(f=>f.y));s.push(L(o-80))}e.y>t.screenScrollY+m+50&&b()}function C(){e.onGround=!1,s.forEach(i=>{e.x+e.radius>i.x&&e.x-e.radius<i.x+i.width&&e.y+e.radius>i.y&&e.y-e.radius<i.y+i.height&&e.velocityY>0&&e.y<i.y&&(e.y=i.y-e.radius,e.velocityY=-6.5,e.onGround=!0,i.color="#FE5F00",setTimeout(()=>{i.color="#fff"},100))})}function X(){r.fillStyle="#000",r.fillRect(0,0,c,m),r.save(),r.translate(0,-t.screenScrollY),s.forEach(i=>{r.fillStyle=i.color,r.fillRect(i.x,i.y,i.width,i.height)}),r.fillStyle=e.color,r.beginPath(),r.arc(e.x,e.y,e.radius,0,Math.PI*2),r.fill(),r.restore(),document.getElementById("score").textContent=`Score: ${t.score}`}function p(){I(),C(),X(),t.isPlaying&&requestAnimationFrame(p)}function E(){t.isPlaying=!0,t.score=0,t.highestY=0,t.screenScrollY=0,t.platformSpeed=1,t.gameStarted=!1,M(),e.velocityX=0,e.velocityY=0,e.onGround=!0,d?(e.x=d.x+d.width/2,e.y=d.y-e.radius):(e.x=120,e.y=200),document.getElementById("gameOver").classList.add("hidden"),p()}function b(){t.isPlaying=!1,document.getElementById("finalScore").textContent=t.score,document.getElementById("gameOver").classList.remove("hidden"),a.style.filter="brightness(1.5)",setTimeout(()=>{a.style.filter="brightness(1)"},200)}window.addEventListener("scrollUp",()=>{t.isPlaying&&(e.velocityX=Math.max(e.velocityX-u,-y))});window.addEventListener("scrollDown",()=>{t.isPlaying&&(e.velocityX=Math.min(e.velocityX+u,y))});window.addEventListener("sideClick",()=>{t.isPlaying||E()});document.addEventListener("keydown",i=>{if(typeof PluginMessageHandler>"u")switch(i.key){case" ":i.preventDefault(),t.isPlaying||E();break;case"ArrowLeft":t.isPlaying&&(e.velocityX=Math.max(e.velocityX-u,-y));break;case"ArrowRight":t.isPlaying&&(e.velocityX=Math.min(e.velocityX+u,y));break}});document.addEventListener("DOMContentLoaded",()=>{console.log("Bouncing Ball Game initialized!"),a=document.getElementById("gameCanvas"),r=a.getContext("2d"),a.width=c,a.height=m,typeof PluginMessageHandler>"u"&&window.addEventListener("keydown",i=>{i.code==="Space"&&(i.preventDefault(),window.dispatchEvent(new CustomEvent("sideClick")))}),E()});console.log("Bouncing Ball Game Ready!");console.log("Controls:");console.log("- Scroll wheel: Move ball left/right");console.log("- Side button: Restart game");
