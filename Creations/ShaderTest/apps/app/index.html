<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=240, height=320, user-scalable=no, initial-scale=1.0">
    <title>ShaderTest - Mandelbrot</title>
    <link rel="stylesheet" href="/src/style.css">
    <style>
      /* Minimal fallback if CSS fails to load */
      body { background:#000; color:#fff; }
    </style>
  </head>
  <body>
    <canvas id="glcanvas"></canvas>
    <script type="module" src="/src/mandelbrot.js"></script>
    <script>
      // On-device: request real fullscreen on first user gesture
      (function(){
        // Do not run inside emulator iframe
        if (window.top !== window) return;
        const canvas = document.getElementById('glcanvas');
        function requestFs(){
          const el = document.documentElement;
          const req = el.requestFullscreen || el.webkitRequestFullscreen || el.msRequestFullscreen;
          if (req) {
            try { req.call(el); } catch(_) {}
          }
        }
        function requestFsOnce(e){
          try { e.preventDefault(); } catch(_) {}
          requestFs();
        }
        canvas.addEventListener('pointerdown', requestFsOnce, { passive: false, once: true });
      })();
    </script>
  </body>
  </html>

