(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(r){if(r.ep)return;r.ep=!0;const t=o(r);fetch(r.href,t)}})();class qe{constructor(){this.sideButtonEnabled=!0,this.scrollWheelEnabled=!0,this.eventListeners=new Map}init(e={}){this.sideButtonEnabled=e.sideButtonEnabled??!0,this.scrollWheelEnabled=e.scrollWheelEnabled??!0,this.sideButtonEnabled&&this.setupSideButtonListener(),this.scrollWheelEnabled&&this.setupScrollWheelListener(),e.keyboardFallback!==!1&&this.setupKeyboardFallback()}setupSideButtonListener(){window.addEventListener("sideClick",e=>{this.sideButtonEnabled&&this.handleSideButtonClick(e)})}setupScrollWheelListener(){window.addEventListener("scrollUp",e=>{this.scrollWheelEnabled&&this.handleScrollWheel({direction:"up",event:e})}),window.addEventListener("scrollDown",e=>{this.scrollWheelEnabled&&this.handleScrollWheel({direction:"down",event:e})})}setupKeyboardFallback(){window.addEventListener("keydown",e=>{if(e.code==="Space"){e.preventDefault();const o=new CustomEvent("sideClick",{detail:{source:"keyboard"}});window.dispatchEvent(o)}})}handleSideButtonClick(e){(this.eventListeners.get("sideButton")||[]).forEach(s=>s(e))}handleScrollWheel(e){(this.eventListeners.get("scrollWheel")||[]).forEach(s=>s({direction:e.direction,event:e.event}))}on(e,o){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(o)}off(e,o){const s=this.eventListeners.get(e)||[],r=s.indexOf(o);r>-1&&s.splice(r,1)}}const We=new qe;class Xe{constructor(){this.screenWidth=240}setupViewport(){let e=document.querySelector('meta[name="viewport"]');e||(e=document.createElement("meta"),e.name="viewport",document.head.appendChild(e)),e.content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"}}const je=new Xe;je.setupViewport();We.init();const L=document.getElementById("glcanvas"),i=L.getContext("webgl2",{antialias:!0});i||console.error("WebGL2 not supported");const T=240,j=320;function ke(n,e,o){const s=n.createShader(e);return n.shaderSource(s,o),n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS)?s:(console.error(n.getShaderInfoLog(s)||"Shader compile error"),n.deleteShader(s),null)}function we(n,e,o){const s=ke(n,n.VERTEX_SHADER,e),r=ke(n,n.FRAGMENT_SHADER,o),t=n.createProgram();return n.attachShader(t,s),n.attachShader(t,r),n.linkProgram(t),n.getProgramParameter(t,n.LINK_STATUS)?t:(console.error(n.getProgramInfoLog(t)||"Program link error"),n.deleteProgram(t),null)}const Ze=`#version 300 es
precision highp float;
layout(location=0) in vec2 a_pos;       // unit quad verts [-0.5,0.5]
layout(location=1) in vec2 a_instPos;   // world center
layout(location=2) in vec2 a_instSize;  // world size
layout(location=3) in vec4 a_color;     // base color
uniform vec2 u_worldSize;
out vec4 v_color;
void main(){
  vec2 world = a_instPos + a_pos * a_instSize;
  vec2 ndc = (world / u_worldSize) * 2.0 - 1.0;
  ndc.y = -ndc.y; // flip Y to screen coords
  gl_Position = vec4(ndc, 0.0, 1.0);
  v_color = a_color;
}`,Je=`#version 300 es
precision highp float;
in vec4 v_color;
out vec4 outColor;
void main(){ outColor = v_color; }`,Ae=we(i,Ze,Je);i.useProgram(Ae);i.createTexture();i.createFramebuffer();i.createTexture();i.createFramebuffer();const Ue=`#version 300 es
precision highp float;
layout(location=0) in vec2 a_pos;
out vec2 v_uv;
void main(){
  v_uv = a_pos * 0.5 + 0.5;
  gl_Position = vec4(a_pos, 0.0, 1.0);
}`,Qe=`#version 300 es
precision highp float;
in vec2 v_uv;
out vec4 outColor;
uniform sampler2D u_tex;
uniform vec2 u_dir;       // (1,0) or (0,1)
uniform float u_threshold; // >=0 to apply bright-pass; <0 to skip
void main(){
  vec2 texel = 1.0 / vec2(textureSize(u_tex, 0));
  float w[9];
  w[0]=0.05; w[1]=0.07; w[2]=0.1; w[3]=0.13; w[4]=0.2; w[5]=0.13; w[6]=0.1; w[7]=0.07; w[8]=0.05;
  vec3 sum = vec3(0.0);
  int k = 0;
  for (int i=-4;i<=4;i++){
    vec2 uv = v_uv + float(i) * texel * u_dir * 2.0; // widen radius
    vec3 s = texture(u_tex, uv).rgb;
    if (u_threshold >= 0.0) {
      float b = max(0.0, max(max(s.r, s.g), s.b) - u_threshold);
      s *= b;
    }
    sum += s * w[k++];
  }
  outColor = vec4(sum, 1.0);
}`,et=`#version 300 es
precision highp float;
in vec2 v_uv;
out vec4 outColor;
uniform sampler2D u_scene;
uniform float u_threshold;
uniform float u_bloom;
void main(){
  vec2 texel = 1.0 / vec2(textureSize(u_scene, 0));
  vec3 scene = texture(u_scene, v_uv).rgb;
  vec3 sum = vec3(0.0);
  float w[9];
  w[0]=0.05; w[1]=0.07; w[2]=0.1; w[3]=0.13; w[4]=0.2; w[5]=0.13; w[6]=0.1; w[7]=0.07; w[8]=0.05;
  int k = 0;
  for (int y=-4;y<=4;y++){
    for (int x=-4;x<=4;x++){
      vec2 uv = v_uv + vec2(float(x), float(y)) * texel * 1.5;
      vec3 s = texture(u_scene, uv).rgb;
      float b = max(0.0, max(max(s.r, s.g), s.b) - u_threshold);
      sum += s * b * w[int(abs(float(x)))];
    }
  }
  sum /= 9.0 * 9.0;
  vec3 outc = scene + sum * u_bloom;
  outColor = vec4(outc, 1.0);
}`,_e=we(i,Ue,Qe);i.getUniformLocation(_e,"u_tex");i.getUniformLocation(_e,"u_dir");i.getUniformLocation(_e,"u_threshold");const Ee=we(i,Ue,et);i.getUniformLocation(Ee,"u_scene");i.getUniformLocation(Ee,"u_threshold");i.getUniformLocation(Ee,"u_bloom");const tt=i.createVertexArray();i.bindVertexArray(tt);const nt=new Float32Array([-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]),st=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,st);i.bufferData(i.ARRAY_BUFFER,nt,i.STATIC_DRAW);i.enableVertexAttribArray(0);i.vertexAttribPointer(0,2,i.FLOAT,!1,0,0);const ot=new Float32Array([-.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5]),Te=i.createVertexArray();i.bindVertexArray(Te);const it=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,it);i.bufferData(i.ARRAY_BUFFER,ot,i.STATIC_DRAW);i.enableVertexAttribArray(0);i.vertexAttribPointer(0,2,i.FLOAT,!1,0,0);const Oe=i.createBuffer(),ze=i.createBuffer(),Ye=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,Oe);i.enableVertexAttribArray(1);i.vertexAttribPointer(1,2,i.FLOAT,!1,0,0);i.vertexAttribDivisor(1,1);i.bindBuffer(i.ARRAY_BUFFER,ze);i.enableVertexAttribArray(2);i.vertexAttribPointer(2,2,i.FLOAT,!1,0,0);i.vertexAttribDivisor(2,1);i.bindBuffer(i.ARRAY_BUFFER,Ye);i.enableVertexAttribArray(3);i.vertexAttribPointer(3,4,i.FLOAT,!1,0,0);i.vertexAttribDivisor(3,1);const rt=i.getUniformLocation(Ae,"u_worldSize");i.disable(i.DEPTH_TEST);i.clearColor(.02,.02,.03,1);function lt(){const n=Math.min(window.devicePixelRatio||1,2),e=Math.floor(L.clientWidth*n),o=Math.floor(L.clientHeight*n);(L.width!==e||L.height!==o)&&(L.width=e,L.height=o),i.viewport(0,0,L.width,L.height)}let Z=2654435769,J=608135816;function Be(n){Z=(n^2654435769)>>>0,J=n*1664525+1013904223>>>0}function he(){let n=(J+=1831565813)>>>0,e=(Z+=2246822507)>>>0;return n^=n>>>15,n=Math.imul(n,739982445),n^=n>>>12,n=Math.imul(n,695872825),n^=n>>>15,e^=e>>>15,e=Math.imul(e,739982445),e^=e>>>12,e=Math.imul(e,695872825),e^=e>>>15,((n^e)>>>0)/4294967295}const de=50,fe=30,Y=38,N=6,B=4;let w=T*.5,I=j-16,O=0;const ct=140,ye=[],C=[];function at(){return ye.length>0?ye.pop():{x:0,y:0,vx:0,vy:0}}function ht(n){ye.push(n)}const be=[],z=[];let U=0,W=0,K=0,$=0;const ut=5,dt=10,X=[];let te=[],se=new Map;function pe(n,e){if(he()<.05){const o=ft();o.x=n,o.y=e,o.w=8,o.h=8,o.vy=40,o.type=1,z.push(o)}}function ft(){return be.length?be.pop():{x:0,y:0,w:8,h:8,vy:30,type:0}}function De(n){be.push(n)}const F=[];function pt(n,e,o){let s=(n|0)*374761393^(e|0)*668265263^(o|0);return s=(s^s>>>13)>>>0,s=Math.imul(s,1274126177)>>>0,(s>>>0)/4294967295}function ve(n){return Math.floor(he()*n)}let le=12345,ee=1,oe=!1,D={bg:[.02,.02,.03],brick1:[.9,.4,.4],brick2:[.4,.9,.5],brick3:[.4,.6,.9],paddle:[1,1,1],ball:[1,1,.3]};function vt(n){F.length=0;const e=8,o=10,s=T-e*2,r=j*.6,t=s/de,l=r/fe,p=e,d=o,h=16,f=10,{mask:y,width:c,height:a}=mt(h,f,n^666745);for(let u=0;u<fe;u++)for(let A=0;A<de;A++){const R=p+A*t+t*.5,k=d+u*l+l*.5,g=Math.max(0,Math.min(c-1,Math.floor((A+.5)/de*c))),x=Math.max(0,Math.min(a-1,Math.floor((u+.5)/fe*a))),b=y[x*c+g]===1;let m=1+(A+u+(n&7))%3;k>d+r*.8&&(m=1),F.push({x:R,y:k,w:t*.95,h:l*.9,hp:b?m:0,alive:b})}}function mt(n,e,o){const s=n*2+1,r=e*2+1,t=new Uint8Array(s*r);for(let x=0;x<s*r;x++)t[x]=1;const l=Z,p=J;Be(o);const d=new Uint8Array(n*e),h=[];function f(x,v){return v*n+x}function y(x,v){t[(v*2+1)*s+(x*2+1)]=0}function c(x,v,b,m){t[(v+m+1)*s+(x+b+1)]=0}let a=ve(n),u=ve(e);for(d[f(a,u)]=1,y(a,u),h.push([a,u]);h.length;){const x=h[h.length-1];a=x[0],u=x[1];const v=[[1,0],[-1,0],[0,1],[0,-1]];for(let m=v.length-1;m>0;m--){const P=ve(m+1),S=v[m];v[m]=v[P],v[P]=S}let b=!1;for(let m=0;m<4;m++){const P=v[m][0],S=v[m][1],_=a+P,E=u+S;if(!(_<0||E<0||_>=n||E>=e)&&!d[f(_,E)]){d[f(_,E)]=1,y(_,E),c(a,u,_,E),h.push([_,E]),b=!0;break}}b||h.pop()}const A=0,R=0,k=n-1,g=e-1;return y(A,R),y(k,g),t[(R*2+1)*s+0]=0,t[(g*2+1)*s+(s-1)]=0,Z=l,J=p,{mask:t,width:s,height:r}}function Fe(n,e,o=120,s=-Math.PI/4){const r=at();r.x=n,r.y=e,r.vx=Math.cos(s)*o,r.vy=Math.sin(s)*o,C.push(r)}function xt(n){for(let o=0;o<n&&C.length<5e3;o++){const s=-Math.PI*.75+he()*(Math.PI*.5);Fe(w,I-16,110,s)}}let ce=3,ge=!1;function Q(n,e){ee=n;const o=(le^n*2654435769)>>>0;z.length=0,X.length=0,te.length=0,U=0,W=0,K=0,$=0,Be(o),D=gt(o),vt(o),C.length=0,Fe(w,I-20,120,-Math.PI*.6),e&&(ce=3,ge=!1)}class q{constructor(e,o,s,r,t=0,l=6,p=12){this.x=e,this.y=o,this.w=s,this.h=r,this.depth=t,this.maxDepth=l,this.cap=p,this.items=[],this.kids=null}insert(e){if(this.kids){this._insertIntoKids(e);return}this.items.push(e),this.items.length>this.cap&&this.depth<this.maxDepth&&this._split()}_split(){const e=this.w*.5,o=this.h*.5;this.kids=[new q(this.x,this.y,e,o,this.depth+1,this.maxDepth,this.cap),new q(this.x+e,this.y,e,o,this.depth+1,this.maxDepth,this.cap),new q(this.x,this.y+o,e,o,this.depth+1,this.maxDepth,this.cap),new q(this.x+e,this.y+o,e,o,this.depth+1,this.maxDepth,this.cap)];const s=this.items;this.items=[];for(let r=0;r<s.length;r++)this._insertIntoKids(s[r])}_insertIntoKids(e){for(let o=0;o<4;o++){const s=this.kids[o];e.rx1>s.x&&e.rx0<s.x+s.w&&e.ry1>s.y&&e.ry0<s.y+s.h&&s.insert(e)}}query(e,o,s,r,t){if(s<=this.x||e>=this.x+this.w||r<=this.y||o>=this.y+this.h)return t;for(let l=0;l<this.items.length;l++)t.push(this.items[l]);if(this.kids)for(let l=0;l<4;l++)this.kids[l].query(e,o,s,r,t);return t}}let ae=null;function yt(){ae=new q(0,0,T,j);for(let n=0;n<F.length;n++){const e=F[n];e.alive&&ae.insert({rx0:e.x-e.w*.5,ry0:e.y-e.h*.5,rx1:e.x+e.w*.5,ry1:e.y+e.h*.5,ref:n})}}function G(n){He&&(O=0),w+=O*n;const e=Math.exp(-6*n);O*=e;const o=Y*.5;w<o&&(w=o,O=Math.abs(O)),w>T-o&&(w=T-o,O=-Math.abs(O)),yt();for(let r=0;r<C.length;r++){const t=C[r];if(t.x+=t.vx*n,t.y+=t.vy*n,t.x<B*.5&&(t.x=B*.5,t.vx*=-1),t.x>T-B*.5&&(t.x=T-B*.5,t.vx*=-1),t.y<B*.5&&(t.y=B*.5,t.vy*=-1),t.y>j+20){ht(t),C.splice(r,1),r--;continue}const l=w-Y*.5,p=w+Y*.5,d=I-N*.5,h=I+N*.5;if(t.x+B*.5>l&&t.x-B*.5<p&&t.y+B*.5>d&&t.y-B*.5<h){t.y=d-B*.5,t.vy=-Math.abs(t.vy);const f=(t.x-w)/(Y*.5);t.vx=f*120}}for(let r=0;r<C.length;r++){const t=C[r],l=t.x-B*.5,p=t.x+B*.5,d=t.y-B*.5,h=t.y+B*.5,f=[];ae.query(l,d,p,h,f);for(let y=0;y<f.length;y++){const c=F[f[y].ref];if(!c||!c.alive)continue;const a=c.x-c.w*.5,u=c.x+c.w*.5,A=c.y-c.h*.5,R=c.y+c.h*.5;if(p>a&&l<u&&h>A&&d<R){const k=p-a,g=u-l,x=h-A,v=R-d,b=Math.min(k,g),m=Math.min(x,v);b<m?(t.vx*=-1,t.x+=(k<g?-b:b)*.5*Math.sign(t.vx||1)):(t.vy*=-1,t.y+=(x<v?-m:m)*.5*Math.sign(t.vy||1)),c.hp-=1,Ve+=10,c.hp<=0&&(c.alive=!1,pe(c.x,c.y));break}}}for(let r=0;r<z.length;r++){const t=z[r];if(t.y+=t.vy*n,t.y>j+10){De(t),z.splice(r,1),r--;continue}const l=w-Y*.5,p=w+Y*.5,d=I-N*.5,h=I+N*.5;if(t.x+t.w*.5>l&&t.x-t.w*.5<p&&t.y+t.h*.5>d&&t.y-t.h*.5<h){const f=he();f<.34?xt(16):f<.67?(U=Math.min(32,U+1),K=ut):(W=Math.min(32,W+1),$=dt),De(t),z.splice(r,1),r--;continue}}if(te.length=0,K>0){K=Math.max(0,K-n);const r=Math.min(1+Math.floor(U*.5),9),t=Math.min(.6,.15+U*.03);for(let l=0;l<r;l++){const d=((r>1?l/(r-1):.5)-.5)*t,h=Math.sin(d),f=-Math.cos(d),y=40,c=12;let a=w,u=I-N;for(let A=0;A<y;A++){const R=a-1,k=a+1,g=u-1,x=u+1,v=[];ae.query(R,g,k,x,v);for(let ne=0;ne<v.length;ne++){const M=F[v[ne].ref];if(!(!M||!M.alive)&&a>M.x-M.w*.5&&a<M.x+M.w*.5&&u>M.y-M.h*.5&&u<M.y+M.h*.5){const ue=v[ne].ref,Se=(se.get(ue)||0)+n;Se>=.2?(M.hp-=1,M.hp<=0&&(M.alive=!1,pe(M.x,M.y)),se.set(ue,0)):se.set(ue,Se)}}const b=a+h*c*.5,m=u+f*c*.5,P=2+U*.3,S=c,_=1,E=.2,Ge=.6,Ke=Math.abs(f)>.5?P:S,$e=Math.abs(f)>.5?S:P;if(te.push({x:b,y:m,w:Ke,h:$e,r:_,g:E,b:Ge,a:.9}),a+=h*c,u+=f*c,u<0)break}}}else U=0,se.clear();if($>0){$=Math.max(0,$-n);const r=Math.min(6,1+Math.floor(W*.5));if(G._missileCooldown||(G._missileCooldown=0),G._missileCooldown-=n,G._missileCooldown<=0){G._missileCooldown=1/r;const t=Math.min(1+Math.floor(W*.5),8);for(let l=0;l<t;l++){let p=-1,d=1e12;for(let h=0;h<F.length;h++){const f=F[h];if(!f.alive)continue;const y=f.x-w,c=f.y-I,a=y*y+c*c;a<d&&(d=a,p=h)}if(p>=0){const h=F[p];X.push({x:w,y:I-12,tx:h.x,ty:h.y,speed:280+W*30,alive:!0})}}}}else W=0;for(let r=0;r<X.length;r++){const t=X[r];if(!t.alive)continue;const l=t.tx-t.x,p=t.ty-t.y,d=Math.sqrt(l*l+p*p)||1,h=l/d*t.speed,f=p/d*t.speed;if(t.x+=h*n,t.y+=f*n,d<8){t.alive=!1;const y=18+W*2;for(let c=0;c<F.length;c++){const a=F[c];if(!a.alive)continue;const u=a.x-t.tx,A=a.y-t.ty,R=u*u+A*A;R<=y*y&&(a.hp-=R<36?3:1,a.hp<=0&&(a.alive=!1,pe(a.x,a.y)))}}}C.length===0&&!ge&&(ce-=1,ce>0?Fe(w,I-20,120,-Math.PI*.5):(ge=!0,V&&ie&&re?(ie.textContent="Game Over",V.style.display="flex",re.style.display="inline-block",re.onclick=()=>{V.style.display="none",re.style.display="none",le=Math.random()*1e9|0,Q(1,!0)}):(le=Math.random()*1e9|0,Q(1,!0))));let s=0;for(let r=0;r<F.length;r++)F[r].alive&&s++;s===0&&!oe&&(oe=!0,V&&ie?(ie.textContent=`Level ${ee} cleared!`,V.style.display="flex",setTimeout(()=>{V.style.display="none",oe=!1,Q(ee+1,!1)},1e3)):(oe=!1,Q(ee+1,!1)))}const Re=[],Me=[],Le=[];function H(n,e,o,s,r,t,l,p){Re.push(n,e),Me.push(o,s),Le.push(r,t,l,p)}function bt(){const n=new Float32Array(Re),e=new Float32Array(Me),o=new Float32Array(Le);i.bindBuffer(i.ARRAY_BUFFER,Oe),i.bufferData(i.ARRAY_BUFFER,n,i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,ze),i.bufferData(i.ARRAY_BUFFER,e,i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,Ye),i.bufferData(i.ARRAY_BUFFER,o,i.DYNAMIC_DRAW),i.drawArraysInstanced(i.TRIANGLES,0,6,n.length/2)}function gt(n){const e=Z,o=J;Be(n^3203338804);const s=.61803398875;let r=pt(1,2,n)*360%360;function t(a,u,A){const R=(a%360+360)%360/360,k=Math.min(1,Math.max(0,u)),g=A,x=Math.floor(R*6),v=R*6-x,b=g*(1-k),m=g*(1-v*k),P=g*(1-(1-v)*k);let S,_,E;switch(x%6){case 0:S=g,_=P,E=b;break;case 1:S=m,_=g,E=b;break;case 2:S=b,_=g,E=P;break;case 3:S=b,_=m,E=g;break;case 4:S=P,_=b,E=g;break;case 5:S=g,_=b,E=m;break}return[S,_,E]}function l(){return r=(r+s*360)%360,r}const p=t(r,.08,.06),d=t(l(),.85,.75),h=t(l(),.95,.78),f=t(l(),.9,.82),y=t(l(),.1,.98),c=t(l(),.3,.98);return Z=e,J=o,{bg:p,brick1:d,brick2:h,brick3:f,paddle:y,ball:c}}const Ce=document.getElementById("hud"),wt=document.getElementById("menu"),V=document.getElementById("overlay"),me=document.getElementById("seed-input"),xe=document.getElementById("btn-start"),ie=document.getElementById("overlay-text"),re=document.getElementById("btn-restart");let He=!0,Pe=!1,Ve=0;xe==null||xe.addEventListener("click",()=>{le=parseInt((me==null?void 0:me.value)||"12345",10)||12345,Q(1,!0),He=!1,wt.style.display="none";const n=document.getElementById("glcanvas");n&&(n.style.visibility="visible"),Pe||(Pe=!0,requestAnimationFrame(Ne))});let Ie=performance.now();function Ne(n){lt();const e=Math.min(.05,Math.max(0,(n-Ie)*.001));Ie=n,G(e),i.bindFramebuffer(i.FRAMEBUFFER,null),i.clearColor(D.bg[0],D.bg[1],D.bg[2],1),i.clear(i.COLOR_BUFFER_BIT),i.useProgram(Ae),i.uniform2f(rt,T,j),i.bindVertexArray(Te),Re.length=0,Me.length=0,Le.length=0;for(let o=0;o<F.length;o++){const s=F[o];if(!s.alive)continue;const r=s.hp===1?D.brick1:s.hp===2?D.brick2:D.brick3;H(s.x,s.y,s.w,s.h,r[0],r[1],r[2],1)}H(w,I,Y,N,D.paddle[0],D.paddle[1],D.paddle[2],1);for(let o=0;o<C.length;o++){const s=C[o];H(s.x,s.y,B,B,D.ball[0],D.ball[1],D.ball[2],1)}for(let o=0;o<z.length;o++){const s=z[o];H(s.x,s.y,s.w,s.h,.2,1,.6,1)}for(let o=0;o<te.length;o++){const s=te[o];H(s.x,s.y,s.w,s.h,s.r,s.g,s.b,s.a)}for(let o=0;o<X.length;o++){const s=X[o];s.alive&&H(s.x,s.y,8,14,1,.8,.2,1)}bt(),Ce&&(Ce.textContent=`Lvl ${ee}  Lives ${ce}  Balls ${C.length}  Score ${Ve}  Laser ${U>0?U:0}(${K.toFixed(1)}s)  Missile ${W>0?W:0}(${$.toFixed(1)}s)`),requestAnimationFrame(Ne)}We.on("scrollWheel",({direction:n})=>{O+=(n==="up"?-1:1)*ct});window.addEventListener("mousemove",n=>{const e=L.getBoundingClientRect();w=(n.clientX-e.left)/Math.max(1,e.width)*T});function At(){L.style.width||(L.style.width="100vw"),L.style.height||(L.style.height="100vh"),L.style.display="block"}At();window.BB_DEBUG={getStats:()=>({paddleX:w,balls:C.length,bricksAlive:F.reduce((n,e)=>n+(e.alive?1:0),0)})};
