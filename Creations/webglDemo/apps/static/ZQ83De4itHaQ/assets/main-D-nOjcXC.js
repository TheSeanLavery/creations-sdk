(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();class m{constructor(){this.sideButtonEnabled=!0,this.scrollWheelEnabled=!0,this.eventListeners=new Map}init(e={}){this.sideButtonEnabled=e.sideButtonEnabled??!0,this.scrollWheelEnabled=e.scrollWheelEnabled??!0,this.sideButtonEnabled&&this.setupSideButtonListener(),this.scrollWheelEnabled&&this.setupScrollWheelListener(),e.keyboardFallback!==!1&&this.setupKeyboardFallback()}setupSideButtonListener(){window.addEventListener("sideClick",e=>{this.sideButtonEnabled&&this.handleSideButtonClick(e)})}setupScrollWheelListener(){window.addEventListener("scrollUp",e=>{this.scrollWheelEnabled&&this.handleScrollWheel({direction:"up",event:e})}),window.addEventListener("scrollDown",e=>{this.scrollWheelEnabled&&this.handleScrollWheel({direction:"down",event:e})})}setupKeyboardFallback(){window.addEventListener("keydown",e=>{if(e.code==="Space"){e.preventDefault();const i=new CustomEvent("sideClick",{detail:{source:"keyboard"}});window.dispatchEvent(i)}})}handleSideButtonClick(e){(this.eventListeners.get("sideButton")||[]).forEach(r=>r(e))}handleScrollWheel(e){(this.eventListeners.get("scrollWheel")||[]).forEach(r=>r({direction:e.direction,event:e.event}))}on(e,i){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(i)}off(e,i){const r=this.eventListeners.get(e)||[],n=r.indexOf(i);n>-1&&r.splice(n,1)}}const h=new m;class y{constructor(){this.screenWidth=240}setupViewport(){let e=document.querySelector('meta[name="viewport"]');e||(e=document.createElement("meta"),e.name="viewport",document.head.appendChild(e)),e.content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"}}const w=new y;w.setupViewport();h.init();const c=document.getElementById("glcanvas"),o=c.getContext("webgl2",{antialias:!0});o||console.error("WebGL2 not supported");const l={identity(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},multiply(t,e){const i=new Float32Array(16);for(let r=0;r<4;r++){const n=t[r],s=t[r+4],a=t[r+8],d=t[r+12];i[r]=n*e[0]+s*e[1]+a*e[2]+d*e[3],i[r+4]=n*e[4]+s*e[5]+a*e[6]+d*e[7],i[r+8]=n*e[8]+s*e[9]+a*e[10]+d*e[11],i[r+12]=n*e[12]+s*e[13]+a*e[14]+d*e[15]}return i},perspective(t,e,i,r){const n=1/Math.tan(t/2),s=1/(i-r),a=new Float32Array(16);return a[0]=n/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=n,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(r+i)*s,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*r*i*s,a[15]=0,a},translate(t,e){const[i,r,n]=e,s=t.slice(0);return s[12]=t[0]*i+t[4]*r+t[8]*n+t[12],s[13]=t[1]*i+t[5]*r+t[9]*n+t[13],s[14]=t[2]*i+t[6]*r+t[10]*n+t[14],s[15]=t[3]*i+t[7]*r+t[11]*n+t[15],s},rotateX(t,e){const i=Math.sin(e),r=Math.cos(e),n=new Float32Array([1,0,0,0,0,r,i,0,0,-i,r,0,0,0,0,1]);return l.multiply(t,n)},rotateY(t,e){const i=Math.sin(e),r=Math.cos(e),n=new Float32Array([r,0,-i,0,0,1,0,0,i,0,r,0,0,0,0,1]);return l.multiply(t,n)}};function u(t,e,i){const r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.error(t.getShaderInfoLog(r)||"Shader compile error"),t.deleteShader(r),null)}function A(t,e,i){const r=u(t,t.VERTEX_SHADER,e),n=u(t,t.FRAGMENT_SHADER,i),s=t.createProgram();return t.attachShader(s,r),t.attachShader(s,n),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(console.error(t.getProgramInfoLog(s)||"Program link error"),t.deleteProgram(s),null)}const S=`#version 300 es
precision highp float;
layout(location=0) in vec3 a_position;
layout(location=1) in vec3 a_color;
uniform mat4 u_mvp;
out vec3 v_color;
void main(){
  v_color = a_color;
  gl_Position = u_mvp * vec4(a_position, 1.0);
}`,_=`#version 300 es
precision highp float;
in vec3 v_color;
out vec4 outColor;
void main(){
  outColor = vec4(v_color, 1.0);
}`,f=A(o,S,_);o.useProgram(f);const F=new Float32Array([1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,-1]),L=new Float32Array([1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,1,1,0,1,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,1,0,1,1]),p=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),v=o.createVertexArray();o.bindVertexArray(v);const g=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,g);o.bufferData(o.ARRAY_BUFFER,F,o.STATIC_DRAW);o.enableVertexAttribArray(0);o.vertexAttribPointer(0,3,o.FLOAT,!1,0,0);const B=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,B);o.bufferData(o.ARRAY_BUFFER,L,o.STATIC_DRAW);o.enableVertexAttribArray(1);o.vertexAttribPointer(1,3,o.FLOAT,!1,0,0);const R=o.createBuffer();o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,R);o.bufferData(o.ELEMENT_ARRAY_BUFFER,p,o.STATIC_DRAW);const b=o.getUniformLocation(f,"u_mvp");o.enable(o.DEPTH_TEST);o.clearColor(.03,.03,.05,1);function P(){const t=Math.min(window.devicePixelRatio||1,2),e=Math.floor(c.clientWidth*t),i=Math.floor(c.clientHeight*t);(c.width!==e||c.height!==i)&&(c.width=e,c.height=i),o.viewport(0,0,c.width,c.height)}function E(t){P();const e=t*.001;o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT);const i=c.width/Math.max(1,c.height);let r=l.perspective(Math.PI/3,i,.1,100),n=l.identity();n=l.translate(n,[0,0,-4]);let s=l.identity();s=l.rotateY(s,e),s=l.rotateX(s,e*.7);const a=l.multiply(r,n),d=l.multiply(a,s);o.uniformMatrix4fv(b,!1,d),o.bindVertexArray(v),o.drawElements(o.TRIANGLES,p.length,o.UNSIGNED_SHORT,0),requestAnimationFrame(E)}function T(){c.style.width||(c.style.width="100vw"),c.style.height||(c.style.height="100vh"),c.style.display="block"}T();requestAnimationFrame(E);h.on("sideButton",()=>{});
